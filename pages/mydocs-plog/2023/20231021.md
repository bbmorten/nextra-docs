#  20231021 RaspberryPi, ZeroTier, DuckDNS

## RaspberryPi

### Password

It can be changed from the menu but for operating reasons the password is noted.

bulent
1122334455on!_A

###  TelegramBot

<https://t.me/BerryBoatBot>

###  DuckDNS

Logged with GitHUB and registered amacberry.duckdns.org

```sh title="/home/bulent/git-repos/duckdns/duck.sh"
# crontab -e
# */5 * * * * /home/bulent/git-repos/duckdns/duck.sh >/dev/null 2>&1
echo url="https://www.duckdns.org/update?domains=amacberry.duckdns.org&token=3d8520fa-41d2-407c-87b2-6880f425d3a1&ip=" | curl -k -o /home/bulent/git-repos/duckdns/duck.log -K -
```

#### IANA-Reserved IPv4 Prefix for Shared Address Space

```shell
> whois 100.100.1.211
% IANA WHOIS server
% for more information on IANA, visit http://www.iana.org
% This query returned 1 object

refer:        whois.arin.net

inetnum:      100.0.0.0 - 100.255.255.255
organisation: ARIN
status:       ALLOCATED

remarks:      100.64.0.0/10 reserved for Shared Address Space
remarks:      [RFC6598]. Complete registration details for
remarks:      100.64.0.0/10 are found iniana-ipv4-special-registry.

whois:        whois.arin.net

changed:      2010-11
source:       IANA

# whois.arin.net

NetRange:       100.64.0.0 - 100.127.255.255
CIDR:           100.64.0.0/10
NetName:        SHARED-ADDRESS-SPACE-RFC6598-IANA-RESERVED
NetHandle:      NET-100-64-0-0-1
Parent:         NET100 (NET-100-0-0-0-0)
NetType:        IANA Special Use
OriginAS:
Organization:   Internet Assigned Numbers Authority (IANA)
RegDate:        2012-03-13
Updated:        2022-04-05
Comment:        This block is used as Shared Address Space. Traffic from these addresses does not come from IANA. IANA has simply reserved these numbers in its database and does not use or operate them. We are not the source of activity you may see on logs or in e-mail records. Please refer to http://www.iana.org/abuse/
Comment:
Comment:        Shared Address Space can only be used in Service Provider networks or on routing equipment that is able to do address translation across router interfaces when addresses are identical on two different interfaces.
Comment:
Comment:        This block was assigned by the IETF in the Best Current Practice document,
Comment:        RFC 6598 which can be found at:
Comment:        http://tools.ietf.org/html/rfc6598
Ref:            https://rdap.arin.net/registry/ip/100.64.0.0



OrgName:        Internet Assigned Numbers Authority
OrgId:          IANA
Address:        12025 Waterfront Drive
Address:        Suite 300
City:           Los Angeles
StateProv:      CA
PostalCode:     90292
Country:        US
RegDate:
Updated:        2012-08-31
Ref:            https://rdap.arin.net/registry/entity/IANA


OrgAbuseHandle: IANA-IP-ARIN
OrgAbuseName:   ICANN
OrgAbusePhone:  +1-310-301-5820
OrgAbuseEmail:  abuse@iana.org
OrgAbuseRef:    https://rdap.arin.net/registry/entity/IANA-IP-ARIN

OrgTechHandle: IANA-IP-ARIN
OrgTechName:   ICANN
OrgTechPhone:  +1-310-301-5820
OrgTechEmail:  abuse@iana.org
OrgTechRef:    https://rdap.arin.net/registry/entity/IANA-IP-ARIN
```

### Zerotier

Setting up a peer-to-peer VPN connection between two machines behind CGNAT (Carrier Grade NAT) can be challenging due to the way CGNAT works. Carrier Grade NAT blocks incoming connections from the public Internet unless the internal device initiates the connection, which means standard VPN server setups (where one device waits for incoming connections) may not work.

A solution for such situations is to use a hole-punching technique combined with a rendezvous server to facilitate the initial handshake between the peers. This is similar to how many VoIP applications or peer-to-peer file-sharing applications work behind NAT. 

Here's a suggested approach:

1. **Use a Rendezvous Server**: This can be any cloud instance or even a Raspberry Pi at a friend's house which is accessible from the public internet. Both `bulentberry` and `amacberry` will connect to this server. It won't transfer all the data, it will just help the two computers find each other.

2. **Use ZeroTier**: ZeroTier is one of the easiest tools to set up a peer-to-peer VPN and it supports NAT traversal (it takes care of the hole-punching and uses its own nodes as a rendezvous point if needed).

    a. Install ZeroTier on both computers.
    
    b. Create a network on [ZeroTier Central](https://my.zerotier.com/).
    
    c. Join both computers to this network.
    
    d. Approve the nodes in ZeroTier Central.
    
    e. After a few moments, both computers will be assigned an IP from ZeroTier. They can then communicate with each other using this IP.

3. **Firewall Configuration**: Ensure that the firewall on both computers allows the necessary traffic for ZeroTier.

4. **Test Connectivity**: Once both computers are connected via ZeroTier, you should be able to ping each computer using its ZeroTier IP address.

5. **Automate Connection**: If you want this connection to be permanent, make sure ZeroTier starts on boot on both machines.

6. **Security Considerations**: Be aware that once the devices are on the same ZeroTier network, they can access shared resources just like on a local network. Use firewalls and other security best practices to restrict unnecessary access.

This solution is great because:

- It's peer-to-peer after the initial handshake. 
- It automatically handles NAT traversal and other issues that arise in CGNAT environments.
- It encrypts your data.
- The rendezvous server (ZeroTier's servers in this case) only helps in the initial connection; the data doesn't flow through it, ensuring better speeds and lower latency.

However, always remember to keep your systems updated, and only expose services that you absolutely need to expose.

#### RaspberryPi Installation and config

Created Network ID : ebe7fbd445cb6839


```shell
curl -s https://install.zerotier.com | sudo bash

```


```shell
sudo zerotier-cli info
sudo zerotier-cli join ebe7fbd445cb6839
sudo zerotier-cli listnetworks


```


#### MacOS Installation 

Use the downloaded package
